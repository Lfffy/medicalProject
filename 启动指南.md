# 孕产妇可视化智能管理平台 - 启动指南

## 📋 系统概述

本系统是一个集孕产妇健康管理、数据可视化和智能分析于一体的综合平台。系统采用前后端分离架构，使用Vue.js构建前端界面，Flask提供后端API服务，SQLite作为轻量级数据库。

## 🖥️ 环境要求

### 必要环境
- **Python**: 3.7+ （推荐3.8或3.9）
- **Node.js**: 14+ （推荐16+）
- **npm**: 6+ （随Node.js安装）
- **Git**: 用于克隆代码仓库

### 验证环境
安装完成后，可通过以下命令验证版本：
```bash
python --version  # 应显示Python 3.7+
node --version    # 应显示v14.0.0+
npm --version     # 应显示6.0.0+
git --version     # 应显示Git版本
```

## 📥 获取代码

### 1. 克隆仓库
```bash
git clone https://github.com/Lfffy/medicalProject.git
cd medicalProject
```

### 2. 目录结构
```
├── data/               # 示例数据文件
├── front-end-template-1-master/  # Vue.js前端项目
├── ml_models/          # 机器学习模型信息
├── static/             # 静态资源文件
├── templates/          # HTML模板
├── utils/              # 工具函数
├── app.py              # 后端主入口文件
├── database_setup.py   # 数据库初始化脚本
├── requirements.txt    # Python依赖列表
```

## ⚙️ 后端服务配置

### 1. 创建虚拟环境（推荐）
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

### 2. 安装Python依赖
```bash
pip install -r requirements.txt
```

### 3. 初始化数据库
```bash
python database_setup.py
```

### 4. 启动后端服务
```bash
python app.py
```
后端服务将在 http://127.0.0.1:8081 启动

## 🎨 前端服务配置

### 1. 进入前端目录
```bash
cd front-end-template-1-master
```

### 2. 安装npm依赖
```bash
npm install
```

### 3. 启动前端开发服务器
```bash
npm run serve
```
前端服务将在 http://localhost:8080 启动

## 🎯 访问系统

1. 确保后端服务和前端服务都已启动
2. 在浏览器中打开：**http://localhost:8080**
3. 系统将自动连接到后端API并加载数据

## 📊 系统功能模块

- **数据大屏**: 实时展示孕产妇健康数据和统计图表
- **孕产妇管理**: 详细的孕产妇信息记录和健康监测
- **数据分析**: 各项健康指标的趋势分析和预测
- **用户管理**: 系统用户的权限控制和角色管理
- **医院信息**: 关联医院的基础信息管理

## 🛠️ 常见问题解决

### 端口占用问题
如果8080或8081端口被占用，可以修改配置：

**修改前端端口**：
编辑 `front-end-template-1-master/vue.config.js` 文件，修改devServer.port配置

**修改后端端口**：
编辑 `app.py` 文件，修改最后一行的port参数

### 依赖安装失败
- 确保Python和Node.js版本符合要求
- 检查网络连接
- 尝试使用国内镜像源：
  ```bash
  # Python国内源
  pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
  
  # npm国内源
  npm install --registry=https://registry.npmmirror.com
  ```

### 数据库连接问题
- 确保 `database_setup.py` 已成功执行
- 检查SQLite数据库文件是否生成
- 查看终端错误日志获取具体原因

### 机器学习功能说明
由于环境限制，系统中的机器学习功能已通过注释方式处理。如需启用，请按照以下步骤操作：
1. 安装额外的机器学习依赖：`pip install scikit-learn pandas numpy`
2. 取消 `ml_predictor.py` 和相关API中的注释

## 📝 注意事项

1. **安全说明**：本系统为演示版本，请在生产环境中加强安全措施
2. **数据备份**：定期备份SQLite数据库文件以防止数据丢失
3. **环境变量**：如需配置环境变量，请在项目根目录创建 `.env` 文件
4. **防火墙设置**：确保开发环境的防火墙允许相应端口通信

## 🚀 部署建议

### 开发环境
按照上述步骤即可快速搭建开发环境

### 生产环境
1. 使用Gunicorn/uWSGI部署Flask应用
2. 使用Nginx作为反向代理
3. 配置HTTPS证书
4. 考虑使用更强大的数据库如PostgreSQL

## 📞 技术支持

系统基于以下技术栈构建：
- **前端**: Vue.js 2.x, ECharts
- **后端**: Flask, Flask-SocketIO, SQLAlchemy
- **数据库**: SQLite
- **实时通信**: Socket.IO

---

## 🎉 启动成功

完成上述步骤后，您的孕产妇可视化智能管理平台应该已经成功运行！
- 前端地址: http://localhost:8080
- 后端地址: http://127.0.0.1:8081
- API文档: http://127.0.0.1:8081/api/docs